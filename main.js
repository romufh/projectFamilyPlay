/* ------------------------------------------------------------
 ðŸŽ® Code Management: Tic-Color & Letter Family Game
---------------------------------------------------------------
ðŸ“ File: main.js
ðŸ§© Description:
  This file contains the core logic of the Tic-Color XO game
  powered by Arabic letters and category-based questions.

âš™ï¸ Main Responsibilities:
  - Handle game squares & player color interactions.
  - Detect winners based on color alignment.
  - Show questions depending on the chosen letter.
  - Manage Restart Game logic.
  - Integrate with the countdown timer in timer.js.

ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ Purpose:
  The game is designed as a family educational challenge,
  mixing fun, colors, and knowledge questions.

ðŸ“¦ Related Files:
  - game.html â†’ Game UI.
  - style.css  â†’ Layout and pop-up styling.
  - timer.js   â†’ Timer logic.

ðŸ§  Developer Notes:
  - Ensure DOM IDs match HTML updates.
  - Timer duration is managed from timer.js.
  - Color winning logic uses inline square background colors.

------------------------------------------------------------- */


/* ------------------------------------------------------------
 ðŸ§© Question Sets (By Category)
------------------------------------------------------------- */

const questionSets = {

  culture: {
    "Ø§": "Ø£Ø·ÙˆÙ„ Ø£Ù†Ù‡Ø§Ø± Ø§Ù„Ø¹Ø§Ù„Ù… Ù‡Ùˆ Ù†Ù‡Ø± Ù…Ø§Ø°Ø§ØŸ",
    "Ø¨": "Ø¨ÙˆØµÙ„Ø© Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ø®ØªØ±Ø¹Ù‡Ø§ Ø£ÙŠ Ø´Ø¹Ø¨ Ù‚Ø¯ÙŠÙ…ØŸ",
    "Øª": "ØªØ³Ù…Ù‰ Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„ØªÙŠ Ø¹Ø§ØµÙ…ØªÙ‡Ø§ Ø·ÙˆÙƒÙŠÙˆ Ù…Ø§Ø°Ø§ØŸ",
    "Ø«": "Ø«Ø§Ù†ÙŠ Ø£ÙƒØ¨Ø± Ù‚Ø§Ø±Ø© ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… Ù‡ÙŠØŸ",
    "Ø¬": "Ø¬Ù‡Ø§Ø² ÙŠØ³ØªØ®Ø¯Ù… Ù„Ù‚ÙŠØ§Ø³ Ø´Ø¯Ø© Ø§Ù„Ø²Ù„Ø§Ø²Ù„ Ù…Ø§ Ø§Ø³Ù…Ù‡ØŸ",
    "Ø­": "Ø­ÙŠÙˆØ§Ù† ÙŠÙÙ„Ù‚Ø¨ Ø¨Ø³ÙÙŠÙ†Ø© Ø§Ù„ØµØ­Ø±Ø§Ø¡ Ù…Ø§ Ù‡ÙˆØŸ",
    "Ø®": "Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø¹Ø§Ù„Ù… ØªÙØ¸Ù‡Ø± ÙƒÙ… Ù…Ø­ÙŠØ·Ù‹Ø§ØŸ",
    "Ø¯": "Ø¯ÙˆÙ„Ø© ØªÙØ¹Ø±Ù Ø¨Ø£Ø±Ø¶ Ø§Ù„ÙØ±Ø§Ø¹Ù†Ø© Ù…Ø§ Ù‡ÙŠØŸ",
    "Ø°": "Ø°Ù‡Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø¥Ù„Ù‰ ÙˆØµÙ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ù„ØºØ© Ù…Ø§Ø°Ø§ØŸ",
    "Ø±": "Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„ Ø§Ø³Ù… ØªØ®ØµØµ ØªØ§Ø¨Ø¹ Ù„Ø£ÙŠ Ù…Ø¬Ø§Ù„ØŸ",
    "Ø²": "Ø²ÙŠØª Ø§Ù„Ø²ÙŠØªÙˆÙ† ÙŠÙØ³ØªØ®Ø±Ø¬ Ù…Ù† Ø£ÙŠ Ù†Ø¨Ø§ØªØŸ",
    "Ø³": "Ø³ÙˆØ± Ø§Ù„ØµÙŠÙ† Ø§Ù„Ø¹Ø¸ÙŠÙ… ÙŠÙ‚Ø¹ ÙÙŠ Ø£ÙŠ Ø¯ÙˆÙ„Ø©ØŸ",
    "Ø´": "Ø´Ø§Ø·Ø¦ Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ© ÙŠØ·Ù„ Ø¹Ù„Ù‰ Ø£ÙŠ Ø¨Ø­Ø±ØŸ",
    "Øµ": "ØµÙˆØª Ø§Ù„Ø¶ÙØ¯Ø¹ Ù…Ø§Ø°Ø§ ÙŠØ³Ù…Ù‰ØŸ",
    "Ø¶": "Ø¶ÙˆØ¡ Ø§Ù„Ø´Ù…Ø³ ÙŠØ³ØªØºØ±Ù‚ Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø±Ø¶ ÙƒÙ… Ø¯Ù‚ÙŠÙ‚Ø©ØŸ",
    "Ø·": "Ø·Ø§Ù‚Ø© Ø§Ù„Ø±ÙŠØ§Ø­ ØªÙØ³ØªØ®Ø¯Ù… Ø£Ø³Ø§Ø³Ù‹Ø§ ÙÙŠ ØªÙˆÙ„ÙŠØ¯ Ù…Ø§Ø°Ø§ØŸ",
    "Ø¸": "Ø¸Ø§Ù‡Ø±Ø© Ø§Ù„Ù…Ø¯ ÙˆØ§Ù„Ø¬Ø²Ø± ØªØ­Ø¯Ø« Ø¨Ø³Ø¨Ø¨ ØªØ£Ø«ÙŠØ± Ø£ÙŠ Ø¬Ø³Ù…ØŸ",
    "Ø¹": "Ø¹Ø¯Ø¯ Ù‚Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø§Ù„Ù… ÙƒÙ… Ù‡ÙˆØŸ",
    "Øº": "ØºØ§Ø¨Ø© Ø§Ù„Ø£Ù…Ø§Ø²ÙˆÙ† ØªÙ‚Ø¹ Ø¨Ø´ÙƒÙ„ Ø±Ø¦ÙŠØ³ÙŠ ÙÙŠ Ø£ÙŠ Ø¯ÙˆÙ„Ø©ØŸ",
    "Ù": "ÙÙŠÙ„Ø³ÙˆÙ ÙŠÙˆÙ†Ø§Ù†ÙŠ Ø§Ø´ØªÙ‡Ø± Ø¨Ø³Ø¤Ø§Ù„ Ù…Ù† Ø£Ù†Ø§ØŸ",
    "Ù‚": "Ù‚Ø§Ø¹ Ø§Ù„Ø¨Ø­Ø± ÙŠØ³Ù…Ù‰ Ù…Ø§Ø°Ø§ØŸ",
    "Ùƒ": "ÙƒÙˆÙƒØ¨ ÙŠÙØ³Ù…Ù‰ Ø§Ù„ÙƒÙˆÙƒØ¨ Ø§Ù„Ø£Ø­Ù…Ø± Ù…Ø§ Ù‡ÙˆØŸ",
    "Ù„": "Ù„ØºØ© ÙŠØªØ­Ø¯Ø« Ø¨Ù‡Ø§ Ø£ÙƒØ¨Ø± Ø¹Ø¯Ø¯ Ù…Ù† Ø§Ù„Ø¨Ø´Ø± Ù‡ÙŠØŸ",
    "Ù…": "Ù…Ø­ÙŠØ· ÙŠØ­ÙŠØ· Ø¨Ø§Ù„Ù‚Ø·Ø¨ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠ Ù…Ø§ Ø§Ø³Ù…Ù‡ØŸ",
    "Ù†": "Ù†Ù‡Ø± ÙŠÙ…Ø± Ø¨Ù…Ø¯ÙŠÙ†Ø© Ù„Ù†Ø¯Ù† Ù…Ø§ Ø§Ø³Ù…Ù‡ØŸ",
    "Ù‡Ù€": "Ù‡Ø¶Ø¨Ø© Ø§Ù„ØªØ¨Øª ØªÙ‚Ø¹ ÙÙŠ Ø£ÙŠ Ù‚Ø§Ø±Ø©ØŸ",
    "Ùˆ": "ÙˆÙ‚ÙˆØ¯ Ø§Ù„Ø·Ø§Ø¦Ø±Ø§Øª ÙŠØ³Ù…Ù‰ Ù…Ø§Ø°Ø§ØŸ",
    "ÙŠ": "ÙŠÙˆØ±ÙˆØ¨Ø§ Ù‡Ùˆ Ù‚Ù…Ø± ØªØ§Ø¨Ø¹ Ù„Ø£ÙŠ ÙƒÙˆÙƒØ¨ØŸ"
  },

  history: {
    "Ø§": "Ø£ÙˆÙ„ Ù…Ù† Ù„ÙÙ‚Ù‘Ø¨ Ø¨Ø£Ù…ÙŠØ± Ø§Ù„Ù…Ø¤Ù…Ù†ÙŠÙ†ØŸ",
    "Ø¨": "Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¹Ø¨Ø§Ø³ÙŠØ© ÙƒØ§Ù†Øª ÙÙŠ Ø£ÙŠ Ø³Ù†Ø©ØŸ",
    "Øª": "ØªÙˆØ³Ø¹ Ø§Ù„Ù…Ø³Ù„Ù…ÙˆÙ† ÙÙŠ Ø¹Ù‡Ø¯ Ø£ÙŠ Ø®Ù„ÙŠÙØ© ØªÙˆØ³Ø¹Ù‹Ø§ ÙƒØ¨ÙŠØ±Ù‹Ø§ØŸ",
    "Ø«": "Ø«ÙˆØ±Ø© Ø§Ù„Ø¹Ø±Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø«Ù…Ø§Ù†ÙŠÙŠÙ† Ø§Ù†Ø¯Ù„Ø¹Øª ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù…ØŸ",
    "Ø¬": "Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¤Ø±Ø®ÙˆÙ† Ø­Ø¯Ø« Ø³Ù‚ÙˆØ· Ø§Ù„Ø£Ù†Ø¯Ù„Ø³ Ø¨Ø¹ÙˆØ¯Ø© Ø£ÙŠ Ù…Ø¯ÙŠÙ†Ø©ØŸ",
    "Ø­": "Ø­Ø§ÙƒÙ… Ù…ØµØ± Ø§Ù„Ø°ÙŠ ÙÙØªØ­Øª ÙÙŠ Ø¹Ù‡Ø¯Ù‡ Ù‡ÙˆØŸ",
    "Ø®": "Ø®Ø§Ù„Ø¯ Ø¨Ù† Ø§Ù„ÙˆÙ„ÙŠØ¯ Ù‚Ø§Ø¯ Ø£ÙŠ Ù…Ø¹Ø±ÙƒØ© ÙØ§ØµÙ„Ø© Ø¶Ø¯ Ø§Ù„Ø±ÙˆÙ…ØŸ",
    "Ø¯": "Ø¯ÙˆÙ„Ø© Ø§Ù„Ù…ÙˆØ­Ø¯ÙŠÙ† Ù†Ø´Ø£Øª ÙÙŠ Ø£ÙŠ Ù…Ù†Ø·Ù‚Ø©ØŸ",
    "Ø°": "Ø°Ùˆ Ø§Ù„ÙÙ‚Ø§Ø± Ù‡Ùˆ Ø³ÙŠÙ Ù…Ù†ØŸ",
    "Ø±": "Ø±Ø¦ÙŠØ³ Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¹Ø«Ù…Ø§Ù†ÙŠØ© Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„Ù‚Ø³Ø·Ù†Ø·ÙŠÙ†ÙŠØ© Ù‡ÙˆØŸ",
    "Ø²": "Ø²Ù…Ù† Ø§Ù„Ø­Ø±ÙˆØ¨ Ø§Ù„ØµÙ„ÙŠØ¨ÙŠØ© Ø§Ø³ØªÙ…Ø± ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§ ÙƒÙ… Ù‚Ø±Ù†Ù‹Ø§ØŸ",
    "Ø³": "Ø³Ù‚ÙˆØ· Ø¨ØºØ¯Ø§Ø¯ Ø¹Ù„Ù‰ ÙŠØ¯ Ø§Ù„Ù…ØºÙˆÙ„ ÙƒØ§Ù† ÙÙŠ Ø¹Ù‡Ø¯ Ø£ÙŠ Ø®Ù„ÙŠÙØ© Ø¹Ø¨Ø§Ø³ÙŠØŸ",
    "Ø´": "Ø´Ø¬Ø±Ø© Ø§Ù„Ø¯Ø± Ø­ÙƒÙ…Øª Ø£ÙŠ Ø¯ÙˆÙ„Ø© Ù…Ù† Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù„Ù… Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØŸ",
    "Øµ": "ØµÙ‚Ù„ÙŠØ© ÙØªØ­Ù‡Ø§ Ø§Ù„Ù…Ø³Ù„Ù…ÙˆÙ† ÙÙŠ Ø£ÙŠ Ø¹ØµØ±ØŸ",
    "Ø¶": "Ø¶Ø±ÙŠØ­ ØµÙ„Ø§Ø­ Ø§Ù„Ø¯ÙŠÙ† ÙŠÙ‚Ø¹ ÙÙŠ Ø£ÙŠ Ù…Ø¯ÙŠÙ†Ø©ØŸ",
    "Ø·": "Ø·Ø§Ø¦ÙØ© Ø§Ù„Ù…ÙˆØ­Ø¯ÙŠÙ† Ø¸Ù‡Ø±Øª ÙÙŠ Ø§Ù„Ù…ØºØ±Ø¨ Ø¨Ù‚ÙŠØ§Ø¯Ø© Ù…Ù†ØŸ",
    "Ø¸": "Ø¸ÙØ§Ø± Ø§Ø´ØªÙ‡Ø±Øª Ù‚Ø¯ÙŠÙ…Ù‹Ø§ Ø¨ØªØ¬Ø§Ø±Ø© Ù…Ø§Ø°Ø§ØŸ",
    "Ø¹": "Ø¹Ø«Ù…Ø§Ù† Ø¨Ù† Ø¹ÙØ§Ù† Ø§Ø³ØªØ´Ù‡Ø¯ Ø£Ø«Ù†Ø§Ø¡ Ø£ÙŠ Ø­Ø¯Ø« ØªØ§Ø±ÙŠØ®ÙŠØŸ",
    "Øº": "ØºØ²ÙˆØ© Ù…Ø¤ØªØ© ÙƒØ§Ù†Øª Ø¨ÙŠÙ† Ø§Ù„Ù…Ø³Ù„Ù…ÙŠÙ† ÙˆØ£ÙŠ Ù‚ÙˆØ© Ø¹Ø¸Ù…Ù‰ Ø¢Ù†Ø°Ø§ÙƒØŸ",
    "Ù": "ÙØªØ­ Ø§Ù„Ø£Ù†Ø¯Ù„Ø³ ØªÙ… Ø¨Ù‚ÙŠØ§Ø¯Ø© Ù…Ù†ØŸ",
    "Ù‚": "Ù‚Ø§Ø¦Ø¯ Ù…Ø¹Ø±ÙƒØ© Ø§Ù„ÙŠØ±Ù…ÙˆÙƒ Ù‡ÙˆØŸ",
    "Ùƒ": "ÙƒØ³Ø±Ù‰ Ø§Ù„Ø«Ø§Ù†ÙŠ Ù‡Ùˆ Ù…Ù„Ùƒ Ø£ÙŠ Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØ©ØŸ",
    "Ù„": "Ù„Ù‚Ø¨ Ø§Ù„Ø³ÙØ§Ø­ Ø£Ø·Ù„Ù‚ Ø¹Ù„Ù‰ Ø£ÙˆÙ„ Ø®Ù„ÙØ§Ø¡ Ø£ÙŠ Ø¯ÙˆÙ„Ø©ØŸ",
    "Ù…": "Ù…Ø¹Ø±ÙƒØ© Ø¨Ø¯Ø± ÙˆÙ‚Ø¹Øª ÙÙŠ Ø£ÙŠ Ø³Ù†Ø© Ù‡Ø¬Ø±ÙŠØ©ØŸ",
    "Ù†": "Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„Ø£Ù…ÙˆÙŠØ© ÙƒØ§Ù†Øª ÙÙŠ Ø£ÙŠ Ù…Ø¹Ø±ÙƒØ©ØŸ",
    "Ù‡Ù€": "Ù‡Ø§Ø±ÙˆÙ† Ø§Ù„Ø±Ø´ÙŠØ¯ ÙƒØ§Ù† Ø£Ø­Ø¯ Ø£Ø´Ù‡Ø± Ø®Ù„ÙØ§Ø¡ Ø£ÙŠ Ø¯ÙˆÙ„Ø©ØŸ",
    "Ùˆ": "ÙˆÙ‚Ø¹Ø© Ø§Ù„Ø¬Ù…Ù„ ÙƒØ§Ù†Øª Ø¨ÙŠÙ† Ø£ÙŠ ÙØ±ÙŠÙ‚ÙŠÙ†ØŸ",
    "ÙŠ": "ÙŠÙˆØ³Ù Ø¨Ù† ØªØ§Ø´ÙÙŠÙ† Ø£Ø³Ø³ Ø£ÙŠ Ø¯ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ù…ØºØ±Ø¨ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØŸ"
  },

  religion: {
    "Ø§": "Ø§Ø³Ù… Ø§Ù„Ù†Ø¨ÙŠ Ø§Ù„Ø°ÙŠ Ø§Ø¨ØªÙ„Ø¹Ù‡ Ø§Ù„Ø­ÙˆØªØŸ",
    "Ø¨": "Ø¨Ù…Ø§Ø°Ø§ ÙƒØ§Ù† ÙŠÙ„Ù‚Ø¨ Ø§Ù„Ù†Ø¨ÙŠ Ù…Ø­Ù…Ø¯ Ù‚Ø¨Ù„ Ø§Ù„Ø¨Ø¹Ø«Ø©ØŸ",
    "Øª": "ØªÙØ³ÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ø¥Ø®Ù„Ø§Øµ ÙŠØ´ÙŠØ± Ø¥Ù„Ù‰ Ø£ÙŠ Ø³ÙˆØ±Ø©ØŸ",
    "Ø«": "Ø«ÙˆØ§Ø¨ Ù‚Ø±Ø§Ø¡Ø© Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù ÙŠÙˆÙ… Ø§Ù„Ø¬Ù…Ø¹Ø© Ù…Ø§ Ù‡ÙˆØŸ",
    "Ø¬": "Ø¬Ø¨Ù„ Ø¹Ø±ÙØ© ÙŠÙ‚Ø¹ ÙÙŠ Ø£ÙŠ Ù…Ø¯ÙŠÙ†Ø©ØŸ",
    "Ø­": "Ø­ÙƒÙ… Ø§Ù„Ø²ÙƒØ§Ø© ÙÙŠ Ø§Ù„Ø¥Ø³Ù„Ø§Ù… Ù…Ø§ Ù‡ÙˆØŸ",
    "Ø®": "Ø®ÙŠØ± Ø§Ù„Ø¨Ø±ÙŠØ© Ù‡Ùˆ Ù„Ù‚Ø¨ Ù…Ù†ØŸ",
    "Ø¯": "Ø¯ÙŠÙ† Ø§Ù„Ø¥Ø³Ù„Ø§Ù… ÙŠÙ‚ÙˆÙ… Ø¹Ù„Ù‰ ÙƒÙ… Ø±ÙƒÙ†Ù‹Ø§ØŸ",
    "Ø°": "Ø°ÙƒØ±Ù Ø£ÙŠ Ø¯Ø¹Ø§Ø¡ ÙŠØ¨Ø¯Ø£ Ø¨Ù€ (Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø£Ù†Øª Ø³Ø¨Ø­Ø§Ù†Ùƒ)ØŸ",
    "Ø±": "Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù… ÙˆÙÙ„Ø¯ ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù…ØŸ",
    "Ø²": "Ø²ÙƒØ±ÙŠØ§ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù… Ø±ÙØ²Ù‚ Ø¨Ø§Ø¨Ù†Ù‡ ÙŠØ­ÙŠÙ‰ ÙÙŠ Ø³Ù† Ù…Ø§Ø°Ø§ØŸ",
    "Ø³": "Ø³ÙˆØ±Ø© Ø§Ù„Ø³Ø¬Ø¯Ø© Ù…ÙƒÙŠØ© Ø£Ù… Ù…Ø¯Ù†ÙŠØ©ØŸ",
    "Ø´": "Ø´Ù‡Ø± Ø±Ù…Ø¶Ø§Ù† Ù†Ø²Ù„ ÙÙŠÙ‡ Ø£ÙŠ ÙƒØªØ§Ø¨ Ø³Ù…Ø§ÙˆÙŠØŸ",
    "Øµ": "ØµØ§Ø­Ø¨ Ø§Ù„Ù‡Ø¯Ù‡Ø¯ ÙƒØ§Ù† Ø£ÙŠ Ù†Ø¨ÙŠØŸ",
    "Ø¶": "Ø¶ÙŠØ§Ø¡ ÙˆØ¬Ù‡ Ù…ÙˆØ³Ù‰ Ø¸Ù‡Ø± Ø¨Ø¹Ø¯ Ø­Ø¯ÙŠØ«Ù‡ Ù…Ø¹ Ù…Ù†ØŸ",
    "Ø·": "Ø·Ø§Ø¦Ø± Ø£Ø¨Ø§Ø¨ÙŠÙ„ Ø°ÙÙƒØ± ÙÙŠ Ø£ÙŠ Ø³ÙˆØ±Ø©ØŸ",
    "Ø¸": "Ø¸Ù†Ù‘ ÙŠÙˆÙ†Ø³ Ø£Ù† Ù‚ÙˆÙ…Ù‡ Ù…Ø§Ø°Ø§ØŸ",
    "Ø¹": "Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù„Ø§Ø¦ÙƒØ© Ø§Ù„Ø°ÙŠÙ† Ù†Ø²Ù„ÙˆØ§ ÙŠÙˆÙ… Ø¨Ø¯Ø± ÙƒÙ… ÙƒØ§Ù†ÙˆØ§ØŸ",
    "Øº": "ØºØ§Ø± Ø­Ø±Ø§Ø¡ ÙƒØ§Ù† ÙŠØªØ¹Ø¨Ø¯ ÙÙŠÙ‡ Ù…Ù†ØŸ",
    "Ù": "ÙØ±Ø¶ Ø§Ù„ØµÙŠØ§Ù… ÙÙŠ Ø£ÙŠ Ø³Ù†Ø© Ù‡Ø¬Ø±ÙŠØ©ØŸ",
    "Ù‚": "Ù‚Ø±ÙŠØ´ ÙƒØ§Ù†Øª ØªØ¹Ù…Ù„ Ø£Ø³Ø§Ø³Ù‹Ø§ ÙÙŠ Ø£ÙŠ Ù…Ù‡Ù†Ø©ØŸ",
    "Ùƒ": "ÙƒØ¹Ø¨Ø© Ø§Ù„Ù…Ø³Ù„Ù…ÙŠÙ† ØªÙ‚Ø¹ ÙÙŠ Ø£ÙŠ ÙˆØ§Ø¯ÙØŸ",
    "Ù„": "Ù„Ù‚Ø¨ Ø§Ù„ØµØ¯ÙŠÙ‚ Ø£ÙØ·Ù„Ù‚ Ø¹Ù„Ù‰ Ù…Ù†ØŸ",
    "Ù…": "Ù…Ù† Ù‡ÙŠ Ø£ÙˆÙ„ Ù…Ù† Ø¯Ø®Ù„ Ø§Ù„Ø¥Ø³Ù„Ø§Ù… Ù…Ù† Ø§Ù„Ù†Ø³Ø§Ø¡ØŸ",
    "Ù†": "Ù†Ø¨ÙŠ Ø§Ù„Ù„Ù‡ Ù†ÙˆØ­ ØµÙ†Ø¹ Ø§Ù„Ø³ÙÙŠÙ†Ø© Ø¨Ø£Ù…Ø± Ù…Ù†ØŸ",
    "Ù‡Ù€": "Ù‡Ø¬Ø±Ø© Ø§Ù„Ù†Ø¨ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© ÙƒØ§Ù†Øª Ø¨ØµØ­Ø¨Ø© Ù…Ù†ØŸ",
    "Ùˆ": "ÙˆÙ„Ø¯ Ø§Ù„Ù†Ø¨ÙŠ ÙÙŠ ÙŠÙˆÙ… Ù…Ø§Ø°Ø§ØŸ",
    "ÙŠ": "ÙŠÙˆÙ… Ø§Ù„Ù‚ÙŠØ§Ù…Ø© ÙŠØ³Ù…Ù‰ Ø¨ÙŠÙˆÙ… Ù…Ø§Ø°Ø§ Ø£ÙŠØ¶Ù‹Ø§ØŸ"
  }
};



/* ------------------------------------------------------------
 ðŸ§± DOM Elements
------------------------------------------------------------- */

const squares = Array.from(document.querySelectorAll(".square"));
const urlParams = new URLSearchParams(window.location.search);
let currentCategory = urlParams.get("cat") || "culture";

const title = document.querySelector(".title");
const resultBox = document.getElementById("resultBox");
const resultText = document.getElementById("resultText");
const restartBtn = resultBox ? resultBox.querySelector("button") : null;



/* ------------------------------------------------------------
 ðŸ¥‡ Winning Combinations
------------------------------------------------------------- */

const winningCombinations = [
  [0,1,2],[3,4,5],[6,7,8],
  [0,3,6],[1,4,7],[2,5,8],
  [0,4,8],[2,4,6]
];

let gameOver = false;
let clickTimers = new Map();
let clickCounts = new Map();



/* ------------------------------------------------------------
 ðŸ”„ Utility: Shuffle Array
------------------------------------------------------------- */

function shuffle(array) {
  const arr = array.slice();
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}



/* ------------------------------------------------------------
 ðŸ”  Fill Letters Randomly
------------------------------------------------------------- */

function fillLetters() {
  const letters = Object.keys(questionSets[currentCategory]);
  const shuffled = shuffle(letters);

  for (let i = 0; i < squares.length; i++) {
    squares[i].innerText = shuffled[i] || "";
  }
}



/* ------------------------------------------------------------
 ðŸ† Winner / Draw Detection
------------------------------------------------------------- */

function showResult(msg) {
  resultText.innerText = msg;
  resultBox.style.display = "block";
  gameOver = true;
}

function hideResult() {
  resultBox.style.display = "none";
}

function checkWinner() {
  for (let combo of winningCombinations) {
    const [a, b, c] = combo;

    const ca = squares[a].style.backgroundColor;
    const cb = squares[b].style.backgroundColor;
    const cc = squares[c].style.backgroundColor;

    if (ca && ca === cb && ca === cc) {
      const winner = ca === "orange" ? "ðŸŸ§ Orange" : "ðŸŸ¦ Blue";
      showResult(`Winner: ${winner}`);
      return true;
    }
  }

  const full = squares.every(s => s.style.backgroundColor);
  if (full) {
    showResult("ØªØ¹Ø§Ø¯Ù„!");
    return true;
  }

  return false;
}



/* ------------------------------------------------------------
 ðŸ” Restart Game
------------------------------------------------------------- */

function restartGame() {
  gameOver = false;
  hideResult();
  title.innerText = "Ø³Ø¤Ø§Ù„";

  clickCounts.clear();

  squares.forEach(sq => {
    sq.style.backgroundColor = "";
  });

  fillLetters();
}

window.restartGame = restartGame;

if (restartBtn) {
  restartBtn.addEventListener("click", restartGame);
}



/* ------------------------------------------------------------
 ðŸ–±ï¸ Click Logic (1=Question, 2=Orange, 3=Blue)
------------------------------------------------------------- */

function attachSquareHandlers() {
  squares.forEach((square, idx) => {
    clickCounts.set(idx, 0);

    square.addEventListener("click", () => {
      if (gameOver) return;
      if (square.style.backgroundColor) return;

      let count = (clickCounts.get(idx) || 0) + 1;
      clickCounts.set(idx, count);

      if (clickTimers.has(idx)) {
        clearTimeout(clickTimers.get(idx));
      }

      const timer = setTimeout(() => {

        if (count === 1) {
          const letter = square.innerText;
          title.innerText = questionSets[currentCategory][letter] || "No question available";
        }

        else if (count === 2) {
          square.style.backgroundColor = "orange";
          checkWinner();
        }

        else if (count >= 3) {
          square.style.backgroundColor = "blue";
          checkWinner();
        }

        clickCounts.set(idx, 0);
        clickTimers.delete(idx);

      }, 300);

      clickTimers.set(idx, timer);
    });
  });
}



/* ------------------------------------------------------------
 ðŸš€ Init Game
------------------------------------------------------------- */

(function init() {
  fillLetters();
  attachSquareHandlers();
  hideResult();
})();



/* ------------------------------------------------------------
 ðŸ”— Category Switching Buttons
------------------------------------------------------------- */

document.querySelector(".culture").addEventListener("click", () => {
  currentCategory = "culture";
  restartGame();
});

document.querySelector(".history").addEventListener("click", () => {
  currentCategory = "history";
  restartGame();
});

document.querySelector(".religion").addEventListener("click", () => {
  currentCategory = "religion";
  restartGame();
});

















